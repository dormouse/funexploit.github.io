<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>python学习笔记 &mdash; funexploit 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="funexploit 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">funexploit 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python">
<h1><a class="toc-backref" href="#id32">python学习笔记</a><a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#python" id="id32">python学习笔记</a><ul>
<li><a class="reference internal" href="#id1" id="id33">python语言基础</a><ul>
<li><a class="reference internal" href="#id2" id="id34">帮助系统</a></li>
<li><a class="reference internal" href="#id3" id="id35">类型</a><ul>
<li><a class="reference internal" href="#id4" id="id36">变量的通用说明</a></li>
<li><a class="reference internal" href="#id5" id="id37">数字</a></li>
<li><a class="reference internal" href="#id6" id="id38">字符串</a><ul>
<li><a class="reference internal" href="#id7" id="id39">字符串格式化</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8" id="id40">列表</a></li>
<li><a class="reference internal" href="#id9" id="id41">字典</a></li>
<li><a class="reference internal" href="#id10" id="id42">元组</a></li>
<li><a class="reference internal" href="#id11" id="id43">集合</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12" id="id44">语句</a><ul>
<li><a class="reference internal" href="#id13" id="id45">简介</a></li>
<li><a class="reference internal" href="#id14" id="id46">赋值语句</a></li>
<li><a class="reference internal" href="#id15" id="id47">控制结构</a></li>
<li><a class="reference internal" href="#id16" id="id48">列表解析、字典解析和集合解析</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17" id="id49">函数</a><ul>
<li><a class="reference internal" href="#id18" id="id50">函数概述</a></li>
<li><a class="reference internal" href="#id19" id="id51">作用域</a></li>
<li><a class="reference internal" href="#id20" id="id52">参数</a></li>
<li><a class="reference internal" href="#lambda" id="id53">lambda表达式</a></li>
<li><a class="reference internal" href="#id21" id="id54">一些方便的函数</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id22" id="id55">模块</a></li>
<li><a class="reference internal" href="#id23" id="id56">类和面向对象</a><ul>
<li><a class="reference internal" href="#id24" id="id57">概述</a></li>
<li><a class="reference internal" href="#id25" id="id58">重载</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id26" id="id59">异常</a></li>
<li><a class="reference internal" href="#id27" id="id60">专题</a><ul>
<li><a class="reference internal" href="#id28" id="id61">环境管理器和环境管协议</a></li>
<li><a class="reference internal" href="#id29" id="id62">生成器、迭代器</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id30" id="id63">模块</a><ul>
<li><a class="reference internal" href="#os" id="id64">os</a></li>
<li><a class="reference internal" href="#sqlite3" id="id65">sqlite3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tips" id="id66">tips</a></li>
<li><a class="reference internal" href="#old" id="id67">old</a><ul>
<li><a class="reference internal" href="#files" id="id68">files</a></li>
<li><a class="reference internal" href="#id31" id="id69">tips</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id33">python语言基础</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id34">帮助系统</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">dir()</p>
</li>
<li><p class="first">__doc__</p>
<div class="highlight-python"><div class="highlight"><pre>dir(str) == dir(&#39;&#39;)
dir(list) == dir([])
dir(hash) == dir({})

dir(sys)                    模块的变量和函数列表
print(sys.__doc__)          模块格式化过后的
print(sys.stdin.__doc__)    模块里的变量
print(sys.exit.__doc__)     模块里的函数
</pre></div>
</div>
</li>
<li><p class="first">help()</p>
<p>是交互模式下获取帮助信息的工具，以类似man方式全屏显示帮助信息。</p>
<div class="highlight-python"><div class="highlight"><pre>help(open)                  内置函数
help(str)                   内置类型的全部文档
help(str.encode)            内置类型的函数
</pre></div>
</div>
</li>
<li><p class="first">pydoc</p>
<p>和交互界面下的help()显示的内容是一模一样的。</p>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id35">类型</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>python3常用的数据类型：</p>
<p>布尔型</p>
<p>数字(包括整数、浮点数、分数、复数等等)</p>
<p>字符串</p>
<p>字节和字节数组</p>
<p>列表</p>
<p>元组</p>
<p>字典</p>
<p>集合</p>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id36">变量的通用说明</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">None是一个特殊的类型。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">&lt;class &#39;NoneType&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">变量类型</p>
<ul>
<li><p class="first">在某一时刻，python中的变量只是对一个对象的引用，变量本身的类型是可
以随时改变的，即引用一个不同类型的对象。</p>
</li>
<li><p class="first">类型是与对象相关联的，而不是变量。</p>
</li>
<li><p class="first">每个对象有2个重要的头部信息：类型和引用计数器。</p>
</li>
<li><p class="first">type()会返回一个对象的类型</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
<span class="go">&lt;type &#39;str&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">([])</span>
<span class="go">&lt;type &#39;list&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">共享引用和原地修改</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span> <span class="o">=</span> <span class="n">L1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L3</span> <span class="o">=</span> <span class="n">L1</span><span class="p">[:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span>
<span class="go">[5, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span>
<span class="go">[5, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L3</span>
<span class="go">[2, 3, 4]</span>
</pre></div>
</div>
<p>L1和L2引用同一对象，而L3则是L1的复制。</p>
<p>在标准库中的copy模块有复制任一对象的功能。</p>
</li>
<li><p class="first">两种相等比较</p>
<p>is 和 ==</p>
<p>如果2个变量引用同一对象的话则是is，如果仅仅是这2个变量的值相等，但是
不引用同一对象，那么它们只是==而不是is。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s">&#39;xy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="s">&#39;xy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">(True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="s">&#39;x y&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="s">&#39;x y&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">==</span> <span class="n">d</span><span class="p">,</span> <span class="n">c</span> <span class="ow">is</span> <span class="n">d</span>
<span class="go">(True, False)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>这是因为在内部，&#8217;xy&#8217;被缓存了，而&#8217;x y&#8217;则没有。</p>
<p>另外，sys模块的getrefcount会返回一个对象被引用的次数。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">353</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrefcount</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
</li>
<li><p class="first">真与假</p>
<ul class="simple">
<li>空的对象被认为是False，非空对象被认为是真。</li>
<li>特殊对象None总被认为是假。</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id37">数字</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">python3中的整数可以无限大，浮点数精确到小数点后15位。</p>
</li>
<li><p class="first">int()将会将对象转化为整数，如果对象是浮点数，则会舍去小数取整，而不是四舍五入。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="mf">2.3</span><span class="p">)</span>
<span class="go">-2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="mf">2.7</span><span class="p">)</span>
<span class="go">-2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">python3中，&#8221;/&#8221;执行浮点数除法，即使除数和被除数都是整数。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="mi">11</span><span class="o">/</span><span class="mi">2</span>
<span class="go">5.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">11</span><span class="o">/-</span><span class="mi">2</span>
<span class="go">-5.5</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">&#8220;//&#8221;执行奇怪的除法。</p>
<ul class="simple">
<li>如果结果为正数，可将其视为朝向小数位取整（不是四舍五入），但是要小心这一点。</li>
<li>当整数除以负数， // 运算符将结果朝着最近的整数“向上”四舍五入。从数
学角度来说，由于 −6 比 −5 要小，它是“向下”四舍五入，如果期望将结果
取整为 −5，它将会误导你。</li>
<li>&#8220;//&#8221;运算符并非总是返回整数结果。如果分子或者分母是 float，它仍将朝着
最近的整数进行四舍五入，但实际返回的值将会是 float 类型。</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="mi">11</span><span class="o">//</span><span class="mi">2</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">11</span><span class="o">//</span><span class="mi">2</span>
<span class="go">-6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">11.0</span><span class="o">//</span><span class="mi">2</span>
<span class="go">5.0</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">repr,str和print</p>
<p>默认的打印方式(即不使用print)内部是使用repr，如果使用print打印的话
则是使用str。</p>
<p>str()将对象转换为人们易读的字符串，repr()将对象转换为python内部表示的
字符串形式。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span>
<span class="go">0.3333333333333333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">&#39;0.3333333333333333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">&#39;0.333333333333&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">0.333333333333</span>
</pre></div>
</div>
</li>
<li><p class="first">数字和字符串之间的相互转换</p>
<ul class="simple">
<li>oct,hex将数字转换为相应进制的字符串</li>
<li>str将数字按十进制转换为相应进制的字符串</li>
<li>int()将字符串按照指定格式转换为数字，</li>
<li>eval计算表达式(是一个字符串)，相当于将字符串转换为数字</li>
<li>格式化表达式&#8221;%&#8221;可以将数字转换为字符串</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">oct</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span><span class="nb">hex</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="go">(&#39;023&#39;, &#39;0xff&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="go">&#39;123&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;0100&#39;</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;023&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;0xff&#39;</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
<span class="go">(100, 19, 255)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;100&#39;</span><span class="p">),</span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;0100&#39;</span><span class="p">),</span><span class="nb">eval</span><span class="p">(</span><span class="s">&#39;0x40&#39;</span><span class="p">)</span>
<span class="go">(100, 64, 64)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;</span><span class="si">%o</span><span class="s"> </span><span class="si">%x</span><span class="s"> </span><span class="si">%X</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<span class="go">&#39;100 ff FF&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first">浮点数运算时会出现精度问题，可以使用小数模块代替Decimal</p>
</li>
<li><p class="first">布尔类型</p>
<p>True,False。实际上是int类型的一个子集，不过重载了repr和print方法，
打印时显示为True和False</p>
</li>
</ul>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id38">字符串</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">string 和 bytes 的相互转换</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;民族&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="go">b&#39;\xe6\xb0\x91\xe6\x97\x8f&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xe6\xb0\x91\xe6\x97\x8f</span><span class="s">&#39;</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="go">&#39;民族&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">python中没有单个的字符类型，只有字符串类型。</p>
</li>
<li><p class="first">python中的单引号和双引号可以互换，即使字符串中包含有转义字符。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;a</span><span class="se">\n</span><span class="s">b</span><span class="se">\t</span><span class="s">c&quot;</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b   c</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&#39;a</span><span class="se">\n</span><span class="s">b</span><span class="se">\t</span><span class="s">c&#39;</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b   c</span>
</pre></div>
</div>
</li>
<li><p class="first">python中的三重引号并不会禁止其内部的转义字符</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;abc</span>
<span class="gp">... </span><span class="s">def</span>
<span class="gp">... </span><span class="s">xxx</span><span class="se">\n\n</span><span class="s"></span>
<span class="gp">... </span><span class="s">yyy</span>
<span class="gp">... </span><span class="s">&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">abc</span>
<span class="go">def</span>
<span class="go">xxx</span>


<span class="go">yyy</span>

<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">转义:</p>
<p>&#8216;ooo&#8217; 八进制表示</p>
<p>&#8216;xhh&#8217; 十六进制表示</p>
</li>
<li><p class="first">可以用r(&#8216;...&#8217;)来禁止转义</p>
</li>
<li><p class="first">索引和切片</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;abcdef&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">&#39;bc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;f&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<span class="go">&#39;ace&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;fedc&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">字符的代码转换</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;s&#39;</span><span class="p">)</span>
<span class="go">115</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">chr</span><span class="p">(</span><span class="mi">115</span><span class="p">)</span>
<span class="go">&#39;s&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">基于字典的字符串格式化</p>
<p>使用&#8217;%(key)t&#8217;这种格式，其中的&#8221;key&#8221;是dict的键，其中的&#8217;t&#8217;表示格式化所
用的格式</p>
<p>另外，vars()函数会返回本函数调用时所有的变量和它的值组成的一个dict，
可以和格式化字符串联合起来使用这个技巧</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;bob&#39;</span><span class="p">,</span> <span class="s">&#39;age&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;My name is </span><span class="si">%(name)s</span><span class="s">, my age is </span><span class="si">%(age)d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">d</span>
<span class="go">&#39;My name is bob, my age is 16&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">food</span> <span class="o">=</span> <span class="s">&#39;bread&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drink</span> <span class="o">=</span> <span class="s">&#39;milk&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">vars</span><span class="p">()</span>
<span class="go">{&#39;d&#39;: {&#39;age&#39;: 16, &#39;name&#39;: &#39;bob&#39;}, &#39;__builtins__&#39;: &lt;module &#39;__builtin__&#39; (built-in)&gt;, &#39;drink&#39;: &#39;milk&#39;, &#39;__package__&#39;: None, &#39;food&#39;: &#39;bread&#39;, &#39;s&#39;: &#39;abcdef&#39;, &#39;x&#39;: &#39;abc\ndef\nxxx\n\n\nyyy\n&#39;, &#39;__name__&#39;: &#39;__main__&#39;, &#39;__doc__&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;</span><span class="si">%(food)s</span><span class="s"> </span><span class="si">%(drink)s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">vars</span><span class="p">()</span>
<span class="go">&#39;bread milk&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">长字符串如果需要跨行的话，可以手动将其分割为几个子字符串，然后用+连接</p>
</li>
<li><p class="first">字符串和列表的相互转换</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[:]</span>
<span class="go">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mylist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mylist</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="go">&#39;abc&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
<div class="section" id="id7">
<h5><a class="toc-backref" href="#id39">字符串格式化</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h5>
</div>
</div>
<div class="section" id="id8">
<h4><a class="toc-backref" href="#id40">列表</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>列表索引的负数表示法：L[-1] = L[len(L) - 1]</li>
<li>列表添加元素的4种方法：<ol class="arabic">
<li>L1.append(element)</li>
<li>L1 = L1 + L2</li>
<li>L1.extend(L2)</li>
<li>L1.insert(index, element)</li>
</ol>
</li>
<li>列表不常用的一些方法<ul>
<li>L1.count(element)返回元素出现的次数</li>
<li>L1.index(element)返回元素第一次出现的位置</li>
<li>L1.remove(element) 和 del L1[index] 都是删除第一次出现的某个元素</li>
<li>L1.pop(index)弹出某个元素，index默认值是len(L1)</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id9">
<h4><a class="toc-backref" href="#id41">字典</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">构造字典的其它技术</p>
<ul>
<li><p class="first">当key都是字符串时可以用&#8217;=&#8217;生成字典:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="go">{&#39;age&#39;: 18, &#39;name&#39;: &#39;bob&#39;}</span>
</pre></div>
</div>
</li>
<li><p class="first">由列表[(key1, val1), (key2, val2), ...]生成字典</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">([(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;bob&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;age&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)])</span>
<span class="go">{&#39;age&#39;: 18, &#39;name&#39;: &#39;bob&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span> <span class="o">=</span> <span class="s">&#39;x=abc</span><span class="se">\n</span><span class="s">y=def</span><span class="se">\n</span><span class="s">z=ghi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">mystr</span><span class="p">)</span>
<span class="go">x=abc</span>
<span class="go">y=def</span>
<span class="go">z=ghi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
<span class="go">[&#39;x=abc&#39;, &#39;y=def&#39;, &#39;z=ghi&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;=&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mystr</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()])</span>
<span class="go">{&#39;y&#39;: &#39;def&#39;, &#39;x&#39;: &#39;abc&#39;, &#39;z&#39;: &#39;ghi&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>这种方法经常和zip()一起连用</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">))))</span>
<span class="go">{&#39;a&#39;: 0, &#39;b&#39;: 1}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">当key是一个列表，而val都一样时生成字典</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 0, &#39;c&#39;: 0, &#39;b&#39;: 0}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">字典的一些方法</p>
<p>d.keys(), d.values(), d.items()</p>
</li>
<li><p class="first">字典的键并不一定总是字符串，也可以是数字等</p>
</li>
<li><p class="first">测试字典里是否有某个key，在python3中has_key()已经被废除了，使用in即可。</p>
</li>
</ul>
</div>
<div class="section" id="id10">
<h4><a class="toc-backref" href="#id42">元组</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">元组的优点</p>
<p>元组比列表速度快，如果一个列表不需要修改，将其定义为元组更好。</p>
</li>
<li><p class="first">tuple(...)返回包含对象中每个元素的一个元组</p>
</li>
<li><p class="first">只有一个元素的元组</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">40</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">(40,)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>与只有一个元素的列表相比较</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">[2]</span>
</pre></div>
</div>
</li>
<li><p class="first">元组的圆括号有时可以省略，但最好不省略以增强可读性</p>
</li>
<li><p class="first">元组的不可变性是指元组本身及其顶层内容，而不是元组中嵌套的值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;2&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
      <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="gr">TypeError</span>: <span class="n">&#39;tuple&#39; object does not support item assignment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">(1, [&#39;a&#39;, &#39;x&#39;], 3)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id11">
<h4><a class="toc-backref" href="#id43">集合</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>集合的主要特点：无序。可进行标准的集合运算。</p>
<ul>
<li><p class="first">创建集合的几种方法：</p>
<ol class="arabic simple">
<li>set()</li>
<li>myset = {1, 2}</li>
</ol>
<p>注意创建一个空集合不能用 {}，因为这会创建一个空字典而不是集合。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">({})</span>
<span class="go">&lt;class &#39;dict&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="nb">set</span><span class="p">())</span>
<span class="go">&lt;class &#39;set&#39;&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">向集合中添加元素</p>
<ul class="simple">
<li>s1.add(element)</li>
<li>s1.update(s1, s2, ...)</li>
</ul>
<p>当向集合中添加时，如果有重复的值，不会报错，也不会抛出异常。</p>
</li>
<li><p class="first">从集合中删除元素</p>
<ul>
<li><p class="first">s1.remove(element)</p>
<p>删除不存在的元素时会抛出异常。</p>
</li>
<li><p class="first">s1.descard(element)</p>
<p>删除不存在的元素时不会出现错误、也不会会抛出异常，只是当作一条空指令。</p>
</li>
<li><p class="first">s1.pop()</p>
<p>随机弹出某个元素</p>
</li>
<li><p class="first">s1.clear()</p>
<p>清空</p>
</li>
</ul>
</li>
<li><p class="first">集合的其他运算</p>
<ul class="simple">
<li>s1.union(s2) 并集</li>
<li>s1.intersection(s2) 交集</li>
<li>s1.difference(s2) 返回出现在s1但不出现在s2中的元素集合</li>
<li>s1.symmectric_dirrenence(s2) 只出现在其中某一个集合内的元素的集合</li>
<li>s1.issubset(s2) s1是s2的子集</li>
<li>s1.issuperset(s2) s1是s2的超集</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id44">语句</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id13">
<h4><a class="toc-backref" href="#id45">简介</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">python中唯一需要分号的地方就是在一行里同时写几个语句的时候。</p>
</li>
<li><p class="first">如果一条一句需要分成几行写的话，可以在这条语句前后加上括号。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="n">A</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
    <span class="n">B</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
    <span class="n">C</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;...&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">有用的函数</p>
<p>input()和raw_input()，从标准输入读取输入并转化为字符串返回。
raw_input()会读取原始输入，不会删除换行符，另外这个函数只用于交互操作
的时候。应尽可能使用raw_input()</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">&quot;Please enter a string:&quot;</span><span class="p">)</span>
<span class="go">Please enter a string:abc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">abc</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id14">
<h4><a class="toc-backref" href="#id46">赋值语句</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">第一种具有特色的赋值操作:序列赋值语句</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="go">(1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">&#39;s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">&#39;p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">&#39;m&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>可以利用这种赋值方法衍生出一个小技巧：互换两个变量的值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="go">(1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="go">(2, 1)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">第二种具有特色的赋值操作:多目标赋值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="go">(1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="go">(2, 1)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>这种方法对于常数赋值没问题，但是对于共享引用的赋值则会出现问题，要多加小心</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">d</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">,</span> <span class="n">d</span>
<span class="go">([], [])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">,</span> <span class="n">d</span>
<span class="go">([1], [1])</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">第三种具有特色的赋值操作:增强赋值</p>
<p>即 a += 2 这种格式。</p>
<p>注意增强赋值是原地修改，对于共享引用来说a += b和a = a + b的作用是不同
的。请看下面两种情况的不同。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">L</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1, 2]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id15">
<h4><a class="toc-backref" href="#id47">控制结构</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">python中有范围测试操作符</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="k">else</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">单独的if语句(不带else)只有在列表解析里或者lambda的主体表达式里才能使
用</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>
    <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span>
                    <span class="o">^</span>
<span class="gr">SyntaxError</span>: <span class="n">invalid syntax</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mystr</span> <span class="o">=</span> <span class="s">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="n">ch</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">mystr</span> <span class="p">]</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span> <span class="n">ch</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">mystr</span> <span class="k">if</span> <span class="n">ch</span> <span class="o">&gt;</span> <span class="s">&#39;a&#39;</span> <span class="p">]</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>但是带else的if语句在任何情况下都可以使用，相当于三元操作符</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span>
<span class="go">3</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">and和or的返回值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span> <span class="ow">or</span> <span class="mi">3</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[]</span> <span class="ow">or</span> <span class="mi">3</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[]</span> <span class="ow">or</span> <span class="p">()</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span> <span class="ow">and</span> <span class="mi">3</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span> <span class="ow">and</span> <span class="p">[]</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[]</span> <span class="ow">and</span> <span class="p">()</span>
<span class="go">[]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">while和for结构都有一个可选的else语句</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">... </span>  <span class="n">a</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">1</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">可以在for中进行元组赋值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="n">T</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">(1, 2)</span>
<span class="go">(3, 4)</span>
<span class="go">(5, 6)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">range()</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[1, 3, 5, 7, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[-5, -3, -1, 1, 3]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">zip()</p>
<p>zip()的参数为一个或多个序列，返回值为一个由一系列元组组成的列表，其中的
每个元组包含了zip()参数中每个序列的一个元素。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L3</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">zip</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">,</span> <span class="n">L3</span><span class="p">)</span>
<span class="go">[(&#39;a&#39;, 1, &#39;x&#39;), (&#39;b&#39;, 2, &#39;y&#39;), (&#39;c&#39;, 3, &#39;z&#39;)]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>应用场合:</p>
<ul>
<li><p class="first">和for结合使用实现并行迭代</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">L1</span><span class="p">,</span> <span class="n">L2</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s"> + </span><span class="si">%d</span><span class="s"> = </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">1 + 4 = 5</span>
<span class="go">2 + 5 = 7</span>
<span class="go">3 + 6 = 9</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">构造字典</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">vals</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span>
<span class="go">{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">enumerate()</p>
<p>返回一个对象生成器对象，对其进行迭代时每次会返回(index, value)元组</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">(0, &#39;s&#39;)</span>
<span class="go">(1, &#39;p&#39;)</span>
<span class="go">(2, &#39;a&#39;)</span>
<span class="go">(3, &#39;m&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id16">
<h4><a class="toc-backref" href="#id48">列表解析、字典解析和集合解析</a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">列表解析</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">]</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">字典解析</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">L</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">))}</span>
<span class="go">{0: &#39;a&#39;, 1: &#39;b&#39;, 2: &#39;c&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>字典解析的一个应用：翻转一个字典的键和对应的值</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="s">&#39;z&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="n">key</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">D</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="go">{&#39;y&#39;: &#39;b&#39;, &#39;x&#39;: &#39;a&#39;, &#39;z&#39;: &#39;c&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">集合解析</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">}</span>
<span class="go">{&#39;a&#39;, &#39;c&#39;, &#39;b&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="id17">
<h3><a class="toc-backref" href="#id49">函数</a><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id18">
<h4><a class="toc-backref" href="#id50">函数概述</a><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>def语句是一个可执行语句，它创建一个函数对象并将其赋值给一个变量名(即
函数名)。</li>
<li>一个没有返回值的函数实际上是返回了一个none对象。</li>
</ul>
</div>
<div class="section" id="id19">
<h4><a class="toc-backref" href="#id51">作用域</a><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<p>python中变量名的搜索过程：</p>
<ol class="arabic simple">
<li>l(local,函数内)</li>
<li>E(嵌套作用域，即上层函数）</li>
<li>G(global,全局)</li>
<li>B(builtin,内置)</li>
</ol>
<p>内置变量或者函数是由__builtin__内置模块提供的。默认情况下是不会自动执
行&#8221;import __builtin__&#8221;语句的，但由于python中变量名的搜索过程最后会搜
索内置模块，所以会搜索到内置的函数等。另一方面这也解释了为什么自定义
一个和内置函数同名的变量名会覆盖内置函数。</p>
<p>global声明</p>
<p>当在一个函数定义中给一个外部变量赋值的时候，才有必要用global将其声明
为全局变量。如果只是使用一个全局变量的值，则没有必要也不能用global将
其声明为全局变量。</p>
</div>
<div class="section" id="id20">
<h4><a class="toc-backref" href="#id52">参数</a><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>python中函数的参数的实现：是将对象的引用赋值给参数进行传递。和python
中的变量赋值是一样的。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">myval</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">myval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;a&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span>
<span class="go">[&#39;a&#39;, &#39;y&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>特殊形式的参数设定和调用方式：</p>
<ul>
<li><p class="first">函数调用：位置参数</p>
<p>即调用一个函数时通过指定行参名称进行赋值，而不是按照从左到右的顺序进行赋值。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">(2, 3, 5)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">函数定义：默认参数</p>
<p>即在定义时为参数提供默认值。</p>
<p>注意&#8221;默认参数&#8221;和&#8221;位置参数&#8221;的区别：虽然看起来很像，但是，默认参数是在
函数定义时提供默认值，而位置参数则是在调用函数时指定赋值给哪个参数。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">(1, 2, 10)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">函数定义：搜集参数形成列表</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="o">*</span><span class="n">myargs</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">myargs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">(1, 2, 3)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">函数定义：搜集参数形成字典</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="o">**</span><span class="n">myargs</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">myargs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">{&#39;y&#39;: 2, &#39;x&#39;: 1}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">函数调用：分解列表</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="o">*</span><span class="n">L</span><span class="p">)</span>
<span class="go">(1, 2, 3)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">函数调用：分解字典</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D1</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="o">**</span><span class="n">D1</span><span class="p">)</span>
<span class="go">(1, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D2</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myfun</span><span class="p">(</span><span class="o">**</span><span class="n">D2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">myfun() got an unexpected keyword argument &#39;y&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>由此可以看出调用函数时如果用&#8217;**&#8217;分解一个字典，则字典的key必须和这个函
数定义时的行参名字一一对应，这就对这种方式的应用形成了很大的限制。</p>
</li>
<li><p class="first">将函数名作为参数</p>
</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="n">myfun</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">myfun</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">myadd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">return</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">mysub</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">return</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc</span><span class="p">(</span><span class="n">myadd</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc</span><span class="p">(</span><span class="n">mysub</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="lambda">
<h4><a class="toc-backref" href="#id53">lambda表达式</a><a class="headerlink" href="#lambda" title="Permalink to this headline">¶</a></h4>
<p>lambda是一个表达式而不是一个语句，这样就使它可以出现在def语句不能出现的
地方，例如列表常量中或者函数调用中。</p>
<p>lambda的主体是一个简单的表达式，而不能是一个代码块。</p>
<p>lambda的主体表达式中不可以有if语句，但可以包含后置的if ...else ..语句；
不可以有for和while语句，但也可以用map或者列表解析来实现同样的循环目的。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="k">else</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">mylist</span><span class="p">:</span> <span class="p">[</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tmp</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">tmp</span> <span class="ow">in</span> <span class="n">mylist</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="s">&#39;yyy&#39;</span><span class="p">])</span>
<span class="go">abc</span>
<span class="go">xxx</span>
<span class="go">yyy</span>
<span class="go">[None, None, None]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">map</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="p">([</span><span class="s">&#39;xxx</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;yyy</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">])</span>
<span class="go">xxx</span>
<span class="go">yyy</span>
<span class="go">[None, None]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>在lambda表达式里不能使用print，而要使用sys.stdout.write(&#8221;...&#8221;)表达式。
因为python 2中print是一个语句，而语句必须单独成行。python3的lambda里就
可以使用print()了，因为print成了一个函数。</p>
<p>应用</p>
<blockquote>
<div><ul>
<li><p class="first">跳转表</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="n">x</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">6</span>
<span class="go">9</span>
<span class="go">27</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">回调</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id21">
<h4><a class="toc-backref" href="#id54">一些方便的函数</a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>apply()</li>
<li>map()</li>
<li>filter()</li>
<li>reduce()</li>
</ul>
</div>
</div>
<div class="section" id="id22">
<h3><a class="toc-backref" href="#id55">模块</a><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">__future__</p>
<p>这是个特殊的模块，导入后可以使用一些在未来可能成为标准的新特性</p>
</li>
<li><p class="first">import和from是赋值语句</p>
</li>
<li><p class="first">由导入而建立的模块的命名空间是字典，可以用dir(M)或者M.__dict__.keys()取得</p>
</li>
<li><p class="first">M.__file__会指明M模块来自于哪个文件</p>
</li>
<li><p class="first">reload()与import和from的不同：</p>
<ul class="simple">
<li>reload()是内置函数，而import和from则是语句</li>
<li>reload()只有在import和from成功后才能使用</li>
</ul>
</li>
<li><p class="first">_X和__all__</p>
<p>用from *导入一个模块的时候，会先检测 __all__ 这个列表，如果它不为空的话，
则只导入其中列出的变量，如果它为空，则导入所有变量，除了以_开头的。</p>
<p>利用这个方法可以将模块中的一些数据隐藏，防止其被导入。(使用import导入
时则没有任何办法隐藏)</p>
<div class="highlight-python"><div class="highlight"><pre>LearningPython/ch21 $ cat mymodule_1.py
#!/bin/env python
# -*- coding: utf-8 -*-

__all__ = [&#39;a&#39;]

a = 1
b = [2, 3]
LearningPython/ch21 $ cat test1.py
#!/bin/env python
# -*- coding: utf-8 -*-

from mymodule_1 import *

print(a)
print(b)
LearningPython/ch21 $ python test1.py
1
Traceback (most recent call last):
  File &quot;test1.py&quot;, line 7, in &lt;module&gt;
    print(b)
NameError: name &#39;b&#39; is not defined
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>LearningPython/ch21 $ cat mymodule_2.py
#!/bin/env python
# -*- coding: utf-8 -*-

c = 7
_d = [4, 5]
LearningPython/ch21 $ cat test2.py
#!/bin/env python
# -*- coding: utf-8 -*-

from mymodule_2 import *

print(c)
print(_d)
LearningPython/ch21 $ python test2.py
7
Traceback (most recent call last):
  File &quot;test2.py&quot;, line 7, in &lt;module&gt;
    print(_d)
NameError: name &#39;_d&#39; is not defined
LearningPython/ch21 $
</pre></div>
</div>
</li>
<li><p class="first">__name__和__main__</p>
<p>每个文件都有一个__name__变量名，当这个文件作为模块导入时，__name__就
会被自动赋值为模块名，当这个文件作为一个顶层程序运行时，它会自动设置
为字符串&#8217;__main__&#8217;。</p>
<p>每个类也有一个__main__属性，值为类名，即class关键词后面的那个名字。</p>
</li>
<li><p class="first">sys.path是块搜索目录组成的列表，可以修改</p>
</li>
<li><p class="first">import...as...</p>
</li>
<li><p class="first">模块的相对导入和绝对导入</p>
<blockquote>
<div><p>import module</p>
<blockquote>
<div><p>会按照sys.path列表中指定位置搜索并导入模块</p>
</div></blockquote>
<p>import .module</p>
<blockquote>
<div><p>会导入当前文件目录下的模块</p>
</div></blockquote>
<p>import ..module</p>
<blockquote>
<div><p>会导入当前文件目录的父目录下的模块</p>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id23">
<h3><a class="toc-backref" href="#id56">类和面向对象</a><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id24">
<h4><a class="toc-backref" href="#id57">概述</a><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">class语句也是赋值语句。</p>
</li>
<li><p class="first">在class语句内定义的所有变量都是类成员，注意在类中函数的定义中定义的变
量不算，那是函数的局部变量。</p>
</li>
<li><p class="first">特殊的成员</p>
<p>__dict__是所有对象属性的命名空间。</p>
</li>
<li><p class="first">类成员和实例成员在不同的命名空间中</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="k">class</span> <span class="nc">Myclass</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">val</span>
    <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Myclass</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">Myclass</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Myclass</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">x</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="n">y</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>./p503.py
1 spam
2 spam
</pre></div>
</div>
</li>
<li><p class="first">在类定义之外再定义类的成员变量和函数</p>
<p>可以在类定义外给一个实例变量的某个不存在的成员赋值(变量或者函数)，这样
会添加这个成员变量到类中。虽然这种做法严重不推荐。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>

<span class="c"># 赋值给类变量</span>
<span class="n">MyClass</span><span class="o">.</span><span class="n">var1</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">var1</span><span class="p">)</span>

<span class="c"># 赋值给实例变量</span>
<span class="n">x</span><span class="o">.</span><span class="n">var2</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">var2</span><span class="p">)</span>

<span class="c"># 赋值给类函数</span>
<span class="k">def</span> <span class="nf">myadd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">+</span> <span class="n">var</span>
<span class="n">MyClass</span><span class="o">.</span><span class="n">fun1</span> <span class="o">=</span> <span class="n">myadd</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">fun1</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c"># 赋值给实例函数，运行时会出错</span>
<span class="k">def</span> <span class="nf">mysub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">-</span> <span class="n">var</span>
<span class="n">x</span><span class="o">.</span><span class="n">fun2</span> <span class="o">=</span> <span class="n">mysub</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">fun2</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>3
4
7
Traceback (most recent call last):
  File &quot;./test.py&quot;, line 22, in &lt;module&gt;
    print(x.fun2(6))
TypeError: mysub() takes exactly 2 arguments (1 given)
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id25">
<h4><a class="toc-backref" href="#id58">重载</a><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>构造函数__init__</li>
<li>析构函数__del__</li>
<li>__add__ +</li>
<li>__or__ |</li>
<li>__repr__ 打印</li>
<li>__str__ 转换</li>
<li>__call__ 函数调用</li>
</ul>
</div>
</div>
<div class="section" id="id26">
<h3><a class="toc-backref" href="#id59">异常</a><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>assert用于收集用户定义的约束条件，而不是捕获内在的异常。</li>
<li>sys.exc_info</li>
</ul>
</div>
<div class="section" id="id27">
<h3><a class="toc-backref" href="#id60">专题</a><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id28">
<h4><a class="toc-backref" href="#id61">环境管理器和环境管协议</a><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id29">
<h4><a class="toc-backref" href="#id62">生成器、迭代器</a><a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<p>可迭代对象、迭代工具、迭代环境、迭代协议</p>
<p>生成器是实现迭代器的一种简便的方法。</p>
<p>生成器：生成器实际上就是一个普通的函数，这个函数返回一个迭代器。这种函
数不使用return语句返回值，而是使用一个yield语句返回值，而且在每返回一个
值后这个函数就会暂停，直到使用返回的迭代器的__next__()方法重新调用时，
这个函数又会接着从刚才暂停的地方继续运行，然后用yield返回一个值后再次暂
停。</p>
<div class="highlight-python"><div class="highlight"><pre>for i in obj: ;
=&gt; iter(obj)
=&gt; __iter__(obj) == obj.__iter__()
</pre></div>
</div>
<p>迭代器的工作原理：</p>
<p>在一个迭代环境下，</p>
<p>第一步：迭代工具（例如for）在内部运行时会把可迭代对象传递给内置的
iter()函数，即iter(obj)，而iter()函数内部运行时又会调用__iter__()函数，
即__iter__(obj)。</p>
<p>第二步：可以分为两种情况：</p>
<p>第一种情况：这个函数在内部会调用返回一个迭代器，接着会调用这个迭代器的
next方法，并且捕捉StopInteration异常来 确定何时停止迭代。（为什么只能定
义next()方法，而定义__next__()不行）</p>
<div class="highlight-python"><div class="highlight"><pre>class myclass_1:
    def __init__(self, start, stop):
        self.start = start - 1
        self.stop = stop
    def __iter__(self):
        return self
    def next(self):
        if self.start == self.stop:
            raise StopIteration
        self.start += 1
        return self.start = 2

for element in myclass_1(1, 5):
    print(element)
print(&#39;&#39;)
</pre></div>
</div>
<p>第二种情况：将__iter__()函数本身写成一个生成器，__iter__()每次用yield返
回一个值并暂停，当迭代协议自动调用返回的生成器的__next__()方法
时，__iter__()又会从刚才暂停的地方继续执行。</p>
<div class="highlight-python"><div class="highlight"><pre>class myclass_2:
    def __init__(self, start, stop):
        self.start = start - 1
        self.stop = stop
    def __iter__(self):
        while self.start &lt; self.stop:
            self.start += 1
            yield self.start = 2

for element in myclass_2(1, 5):
    print(element)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id30">
<h2><a class="toc-backref" href="#id63">模块</a><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<div class="section" id="os">
<h3><a class="toc-backref" href="#id64">os</a><a class="headerlink" href="#os" title="Permalink to this headline">¶</a></h3>
<p>os.getcwd() 和 os.chdir()</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="go">&#39;/home/forfun/pro/1.Progamming_Language/python&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;/tmp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="go">&#39;/tmp&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sqlite3">
<h3><a class="toc-backref" href="#id65">sqlite3</a><a class="headerlink" href="#sqlite3" title="Permalink to this headline">¶</a></h3>
<p>如果要插入数据，而且在数据已存在的情况下更新数据，可以使用&#8221;INSERT OR REPLACE&#8221;语句</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># 更新或者插入信息</span>
<span class="k">def</span> <span class="nf">write_word_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">meaning</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">book</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
    <span class="n">sql_str</span> <span class="o">=</span> <span class="s">&#39;INSERT OR REPLACE INTO word_table VALUES(?,?,?,?)&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_str</span><span class="p">,</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">meaning</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">book</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tips">
<h2><a class="toc-backref" href="#id66">tips</a><a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">判断当前用户是否为root</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
</li>
<li><p class="first">取得当前用户的主目录</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pwd</span><span class="o">.</span><span class="n">getpwuid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">())[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">如何注释源代码中的帮助调试的语句</p>
<p>源代码中经常插入一些print语句来帮助调试，在注释时，可以在注释符号(&#8216;#&#8217;)和调试语句之间不留空格，而那些其他注释则留有一个空格，这样可以一目了然哪些注释是调试语句。</p>
</li>
<li><p class="first">判断一个对象与是否与其它几个对象相同</p>
<p>一般的办法是</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">obj</span> <span class="o">==</span> <span class="n">obj_1</span> <span class="ow">or</span> <span class="n">obj</span> <span class="o">==</span> <span class="n">obj_2</span> <span class="ow">or</span> <span class="n">obj</span> <span class="o">==</span> <span class="n">obj_3</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>更好的办法是</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">obj</span> <span class="ow">in</span> <span class="p">[</span><span class="n">obj_1</span><span class="p">,</span> <span class="n">obj_2</span><span class="p">,</span> <span class="n">obj_3</span><span class="p">]:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="old">
<h2><a class="toc-backref" href="#id67">old</a><a class="headerlink" href="#old" title="Permalink to this headline">¶</a></h2>
<div class="section" id="files">
<h3><a class="toc-backref" href="#id68">files</a><a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h3>
<p>打开文件时如果用&#8217;w&#8217;标志，那么如果文件存在的话会删除里面的内容，小心。</p>
<p>write()和writeline()不会在写入的内容后面加&#8217;n&#8217;，而print会。</p>
<p>为什么print(&#8216;abc&#8217;, end=&#8221;n&#8221;)不能运行
为什么print(&#8216;ab&#8217;,)可以运行，而且结尾不会自动加&#8217;n&#8217;</p>
</div>
<div class="section" id="id31">
<h3><a class="toc-backref" href="#id69">tips</a><a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>os.getcwd()返回当前工作目录。sys.path的值则是可导入模块的目录组成的列表，
包括当前脚本所在的目录。如果在一个脚本中同时运行这两个函数，这两个值并
不相同，当调用脚本时的目录不同于脚本文件所在的目录时。</p>
<p>sys.exc_info()返回最近的异常。traceback模块也可以。</p>
<p>内置的type()可以检查一个对象的类型。</p>
<p>与操作系统相关的标准模块主要有两个，即sys和os，前者主要是与python解释器
相关的，后者则包括与操作系统的其他内容。</p>
<p>shelves模块提供了按索引来从文件中存取对象的功能。</p>
<p>glib.glob(&#8216;=.c&#8217;)函数会返回当前目录下所有与&#8217;=.c&#8217;匹配的文件</p>
<p>input()从标准输入读入一个字符串。</p>
<p>可以将一个打开的文件对象赋值给sys.stdin，以后所有的标准输入就会从这个文件中读取。</p>
<p>dict_obj.items()函数以一个类似于集合的形式返回对象中的元素</p>
<p>pprint模块可以以更美观的方式显示一个对象。</p>
<p>map在python3中成了一个生成器</p>
<p>sum是一个内建函数</p>
<p>pydoc builtins会显示所有内建的函数、变量等等等等</p>
<p>str是内建的一个模块
string是标准库中的一个模块</p>
<p>print函数会自动在行尾加一个&#8217;n&#8217;。
python中是区分大小写的</p>
<p>repr()将一个对象转换成字符串
ord()将一个字符转换成相应的ascii值
chr()同上，作用相反</p>
<dl class="docutils">
<dt>eval可以将字符串当作可执行代码对待，然后计算出结果</dt>
<dd>eval(&#8220;[1, 2, 3]&#8221;) =&gt; [1, 2, 3]</dd>
</dl>
<p>pickle模块可以在在文件中存取原生态的数据
struct模块可以处理二进制数据</p>
<p>range(-5, 5) =&gt; [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4]</p>
<p>print和str函数会优先选用对象的__str__方法。如果没有__str__方法，则会使
用__repr__方法。__repr__应该返回一个字符串，这个字符串可以作为可执行代
码去重建该对象。而repr函数则只使用__repr__方法。repr主要用户交互环境，
例如在python命令行中直接输入一个对象，则会调用它的__repr__方法。</p>
<p>dictionary在赋值时如果索引是字符串，可以不加引号，前面需要加dict，并且
圆括号需要变成括号，里面的冒号改成等于号。例如mydict =
dict{name=&#8217;zhangsan&#8217;, age=14}</p>
<p>zip(obj1, obj2……）返回一个zip对象，其中的每个子对象是一个元组，每个元
组由zip参数中的各个对象提供。例如zip([1, 2, 3] [4, 5, 6])={1: 4, 2: 5,
3: 6}</p>
<p>[x for x in ...]，式中的第一个x也可以是一个表达式，例如下面的x就是一个
列表，而且里面还可以包含if和else等等。</p>
<p>[(rec[&#8216;age&#8217;] == 2 if rec[&#8216;age&#8217;] &gt;= 45 else rec[&#8216;age&#8217;]) for rec in people]</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">python学习笔记</a><ul>
<li><a class="reference internal" href="#id1">python语言基础</a><ul>
<li><a class="reference internal" href="#id2">帮助系统</a></li>
<li><a class="reference internal" href="#id3">类型</a><ul>
<li><a class="reference internal" href="#id4">变量的通用说明</a></li>
<li><a class="reference internal" href="#id5">数字</a></li>
<li><a class="reference internal" href="#id6">字符串</a><ul>
<li><a class="reference internal" href="#id7">字符串格式化</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">列表</a></li>
<li><a class="reference internal" href="#id9">字典</a></li>
<li><a class="reference internal" href="#id10">元组</a></li>
<li><a class="reference internal" href="#id11">集合</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12">语句</a><ul>
<li><a class="reference internal" href="#id13">简介</a></li>
<li><a class="reference internal" href="#id14">赋值语句</a></li>
<li><a class="reference internal" href="#id15">控制结构</a></li>
<li><a class="reference internal" href="#id16">列表解析、字典解析和集合解析</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17">函数</a><ul>
<li><a class="reference internal" href="#id18">函数概述</a></li>
<li><a class="reference internal" href="#id19">作用域</a></li>
<li><a class="reference internal" href="#id20">参数</a></li>
<li><a class="reference internal" href="#lambda">lambda表达式</a></li>
<li><a class="reference internal" href="#id21">一些方便的函数</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id22">模块</a></li>
<li><a class="reference internal" href="#id23">类和面向对象</a><ul>
<li><a class="reference internal" href="#id24">概述</a></li>
<li><a class="reference internal" href="#id25">重载</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id26">异常</a></li>
<li><a class="reference internal" href="#id27">专题</a><ul>
<li><a class="reference internal" href="#id28">环境管理器和环境管协议</a></li>
<li><a class="reference internal" href="#id29">生成器、迭代器</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id30">模块</a><ul>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tips">tips</a></li>
<li><a class="reference internal" href="#old">old</a><ul>
<li><a class="reference internal" href="#files">files</a></li>
<li><a class="reference internal" href="#id31">tips</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/sources/python.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">funexploit 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, jff.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>